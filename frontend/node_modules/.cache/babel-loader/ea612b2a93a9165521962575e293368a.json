{"ast":null,"code":"var _jsxFileName = \"/home/nikhila/Documents/projs/react/frontend/src/components/Dashboard.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetch_get } from './Fetch';\nimport Context from '../Context';\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: ''\n    };\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('token')) {\n      fetch_get('/api/user-details/').then(response => {\n        console.log(response, \"*****\");\n        this.setState({\n          username: response.user_details.email\n        }); // this.context.setData(response)\n      });\n    } else {\n      this.props.history.push('/');\n    }\n  }\n\n  logout() {\n    localStorage.clear();\n    window.location.href = '/';\n  }\n\n  render() {\n    const _this$context = this.context,\n          permissions = _this$context.permissions,\n          role = _this$context.role;\n    const username = this.state.username;\n    console.log(this.state);\n    return React.createElement(\"nav\", {\n      className: \"navbar header-navbar pcoded-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navbar-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, username, React.createElement(Link, {\n      onClick: this.logout.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ti-layout-sidebar-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), \" Logout\")));\n  }\n\n}\n\nDashboard.contextType = Context;\nexport default Dashboard;","map":{"version":3,"sources":["/home/nikhila/Documents/projs/react/frontend/src/components/Dashboard.js"],"names":["React","Component","Link","fetch_get","Context","Dashboard","constructor","props","state","username","logout","bind","componentDidMount","localStorage","getItem","then","response","console","log","setState","user_details","email","history","push","clear","window","location","href","render","context","permissions","role","contextType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,QAA0B,SAA1B;AACA,OAAOC,OAAP,MAAoB,YAApB;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAEhCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGI,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AAEL;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,QAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,EAAkC;AAChCX,MAAAA,SAAS,CAAC,oBAAD,CAAT,CACCY,IADD,CACOC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAAsB,OAAtB;AACA,aAAKG,QAAL,CAAc;AAACV,UAAAA,QAAQ,EAAEO,QAAQ,CAACI,YAAT,CAAsBC;AAAjC,SAAd,EAFkB,CAGlB;AACD,OALD;AAMD,KAPD,MAQK;AACH,WAAKd,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;AACF;;AAEHb,EAAAA,MAAM,GAAG;AACLG,IAAAA,YAAY,CAACW,KAAb;AACEC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AAEH;;AAGDC,EAAAA,MAAM,GAAG;AAAA,0BACuB,KAAKC,OAD5B;AAAA,UACCC,WADD,iBACCA,WADD;AAAA,UACcC,IADd,iBACcA,IADd;AAAA,UAEAtB,QAFA,GAEY,KAAKD,KAFjB,CAEAC,QAFA;AAGPQ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAjB;AACA,WACE;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACS;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKC,QADL,EAGwB,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,KAAKC,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,YAHxB,CADT,CADF;AAYD;;AAhD+B;;AAA5BN,S,CACG2B,W,GAAc5B,O;AAiDvB,eAAeC,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetch_get } from './Fetch';\nimport Context from '../Context';\n\nclass Dashboard extends Component {\n  static contextType = Context;\n  constructor(props) {\n    super(props);\n    this.state = {\n        username: ''\n    };\n        this.logout = this.logout.bind(this);\n\n  }\n\n  componentDidMount() {\n    if(localStorage.getItem('token')) {\n      fetch_get('/api/user-details/')\n      .then((response) => {\n        console.log(response, \"*****\")\n        this.setState({username: response.user_details.email})\n        // this.context.setData(response)\n      })\n    }\n    else {\n      this.props.history.push('/')\n    }\n  }\n\nlogout() {\n    localStorage.clear();\n      window.location.href = '/';\n\n  }\n\n\n  render() {\n    const { permissions, role } = this.context;\n    const {username} = this.state;\n    console.log(this.state)\n    return (\n      <nav className=\"navbar header-navbar pcoded-header\">\n               <div className=\"navbar-wrapper\">\n                   {username}\n                   \n                                       <Link onClick={this.logout.bind(this)}>\n                                           <i className=\"ti-layout-sidebar-left\"></i> Logout\n                                       </Link>\n                                   \n               </div>\n           </nav>\n    );\n  }\n}\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}