{"ast":null,"code":"var _jsxFileName = \"/home/nikhila/Documents/projs/react/frontend/src/components/Dashboard.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetch_get } from './Fetch';\nimport Context from '../Context';\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: ''\n    };\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('token')) {\n      fetch_get('/api/user-details/').then(response => {\n        console.log(response, \"*****\");\n        this.setState({\n          username: response.email\n        }); // this.context.setData(response)\n      });\n    } else {\n      this.props.history.push('/');\n    }\n  }\n\n  logout() {\n    localStorage.clear();\n    window.location.href = '/';\n  }\n\n  render() {\n    const _this$context = this.context,\n          permissions = _this$context.permissions,\n          role = _this$context.role;\n    const username = this.state.username;\n    console.log(this.state);\n    return React.createElement(\"nav\", {\n      className: \"navbar header-navbar pcoded-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navbar-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, username, React.createElement(\"div\", {\n      className: \"navbar-container container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"user-profile header-notification\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"#!\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/assets/images/default-user.jpeg\",\n      className: \"img-radius\",\n      alt: \"User-Profile-Image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, username), React.createElement(\"i\", {\n      className: \"ti-angle-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      className: \"show-notification profile-notification\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Link, {\n      onClick: this.logout.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ti-layout-sidebar-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), \" Logout\"))))))));\n  }\n\n}\n\nDashboard.contextType = Context;\nexport default Dashboard;","map":{"version":3,"sources":["/home/nikhila/Documents/projs/react/frontend/src/components/Dashboard.js"],"names":["React","Component","Link","fetch_get","Context","Dashboard","constructor","props","state","username","logout","bind","componentDidMount","localStorage","getItem","then","response","console","log","setState","email","history","push","clear","window","location","href","render","context","permissions","role","contextType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,QAA0B,SAA1B;AACA,OAAOC,OAAP,MAAoB,YAApB;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAEhCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGI,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AAEL;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,QAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,EAAkC;AAChCX,MAAAA,SAAS,CAAC,oBAAD,CAAT,CACCY,IADD,CACOC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAAsB,OAAtB;AACA,aAAKG,QAAL,CAAc;AAACV,UAAAA,QAAQ,EAAEO,QAAQ,CAACI;AAApB,SAAd,EAFkB,CAGlB;AACD,OALD;AAMD,KAPD,MAQK;AACH,WAAKb,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;AACF;;AAEHZ,EAAAA,MAAM,GAAG;AACLG,IAAAA,YAAY,CAACU,KAAb;AACEC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AAEH;;AAGDC,EAAAA,MAAM,GAAG;AAAA,0BACuB,KAAKC,OAD5B;AAAA,UACCC,WADD,iBACCA,WADD;AAAA,UACcC,IADd,iBACcA,IADd;AAAA,UAEArB,QAFA,GAEY,KAAKD,KAFjB,CAEAC,QAFA;AAGPQ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAjB;AACA,WACE;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACS;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKC,QADL,EAEI;AAAK,MAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGI;AAAI,MAAA,SAAS,EAAC,kCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,GAAG,EAAC,kCAAT;AAA4C,MAAA,SAAS,EAAC,YAAtD;AAAmE,MAAA,GAAG,EAAC,oBAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOA,QAAP,CAFJ,EAGI;AAAG,MAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ,EAMI;AAAI,MAAA,SAAS,EAAC,wCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,KAAKC,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,YADJ,CADJ,CANJ,CAHJ,CAFJ,CAFJ,CADT,CADF;AA4BD;;AAhE+B;;AAA5BN,S,CACG0B,W,GAAc3B,O;AAiEvB,eAAeC,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetch_get } from './Fetch';\nimport Context from '../Context';\n\nclass Dashboard extends Component {\n  static contextType = Context;\n  constructor(props) {\n    super(props);\n    this.state = {\n        username: ''\n    };\n        this.logout = this.logout.bind(this);\n\n  }\n\n  componentDidMount() {\n    if(localStorage.getItem('token')) {\n      fetch_get('/api/user-details/')\n      .then((response) => {\n        console.log(response, \"*****\")\n        this.setState({username: response.email})\n        // this.context.setData(response)\n      })\n    }\n    else {\n      this.props.history.push('/')\n    }\n  }\n\nlogout() {\n    localStorage.clear();\n      window.location.href = '/';\n\n  }\n\n\n  render() {\n    const { permissions, role } = this.context;\n    const {username} = this.state;\n    console.log(this.state)\n    return (\n      <nav className=\"navbar header-navbar pcoded-header\">\n               <div className=\"navbar-wrapper\">\n                   {username}\n                   <div className=\"navbar-container container-fluid\">\n                       \n                       <ul className=\"nav-right\">\n                          \n                           \n                           <li className=\"user-profile header-notification\">\n                               <Link to={\"#!\"}>\n                                   <img src=\"/assets/images/default-user.jpeg\" className=\"img-radius\" alt=\"User-Profile-Image\" />\n                                   <span>{username}</span>\n                                   <i className=\"ti-angle-down\"></i>\n                               </Link>\n                               <ul className=\"show-notification profile-notification\">\n                                   <li>\n                                       <Link onClick={this.logout.bind(this)}>\n                                           <i className=\"ti-layout-sidebar-left\"></i> Logout\n                                       </Link>\n                                   </li>\n                               </ul>\n                           </li>\n                       </ul>\n                   </div>\n               </div>\n           </nav>\n    );\n  }\n}\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}